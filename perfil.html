<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>Meu Perfil</title>

<style>
body{
  margin:0;
  font-family: Arial;
  background:#f0f2f5;
}

/* CAPA */
.capa{
  height:180px;
  background: linear-gradient(135deg,#1877f2,#00c6ff);
}

/* FOTO */
.foto-container{
  text-align:center;
  margin-top:-60px;
}

.foto{
  width:120px;
  height:120px;
  border-radius:50%;
  border:4px solid white;
  object-fit:cover;
}

/* NOME */
.nome{
  text-align:center;
  font-size:26px;
  font-weight:bold;
  margin-top:10px;
}

/* INFO */
.info{
  text-align:center;
  color:#555;
  margin-bottom:15px;
}

/* BOTÕES */
.botoes{
  text-align:center;
  margin-bottom:20px;
}

button{
  padding:10px 20px;
  border:none;
  border-radius:6px;
  background:#1877f2;
  color:white;
  cursor:pointer;
  margin:5px;
}

/* FEED */
.feed{
  max-width:500px;
  margin:auto;
}

.post{
  background:white;
  padding:15px;
  border-radius:8px;
  margin-bottom:15px;
  box-shadow:0 2px 5px rgba(0,0,0,0.1);
}
</style>
</head>
<body>

<div class="capa"></div>

<div class="foto-container">
  <img id="fotoPerfil" class="foto" src="https://via.placeholder.com/120">
</div>

<div class="nome" id="nomeCompleto">Carregando...</div>
<div class="info" id="infoPerfil"></div>

<div class="botoes">
  <button onclick="window.location.href='editar-perfil.html'">Editar Perfil</button>
  <button onclick="window.location.href='principal.html'">Seguinte</button>
</div>

<div class="feed">
  <h3>Publicações</h3>
  <div id="posts"></div>
</div>

<script>

// PEGAR DADOS
let user = JSON.parse(localStorage.getItem("user"));
let perfil = JSON.parse(localStorage.getItem("perfil"));

// MOSTRAR NOME
if(user){
  document.getElementById("nomeCompleto").innerText = user.nomeCompleto;
}

// MOSTRAR INFO
if(perfil){
  document.getElementById("infoPerfil").innerText =
    perfil.funcao + " • " +
    perfil.bairro + ", " +
    perfil.provincia;

  if(perfil.foto){
    document.getElementById("fotoPerfil").src = perfil.foto;
  }
}

// MOSTRAR POSTS
let produtos = JSON.parse(localStorage.getItem("produtos")) || [];
let postsDiv = document.getElementById("posts");

produtos.forEach(p=>{
  postsDiv.innerHTML += `
    <div class="post">
      <strong>${p.nome}</strong>
      <p>${p.descricao}</p>
      <small>Preço: ${p.preco}</small>
    </div>
  `;
});

</script>

</body>
</html>
