<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Preencher Perfil</title>

<style>
body{
  font-family:Arial;
  background:#f0f2f5;
  padding:15px;
}

input{
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:8px;
  border:1px solid #ccc;
}

button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border:none;
  border-radius:8px;
  background:#1877f2;
  color:white;
  font-size:16px;
}
</style>
</head>
<body>

<h2>Completar Perfil</h2>

<input id="apelido" placeholder="Apelido">
<input id="provincia" placeholder="Província">
<input id="bairro" placeholder="Bairro">
<input id="data" type="date">
<input id="funcao" placeholder="Função">
<input id="foto" type="file">

<button onclick="salvar()">Salvar</button>
<button onclick="seguinte()">Seguinte</button>

<script>

function salvar(){

let reader = new FileReader();
let file = document.getElementById("foto").files[0];

if(file){
  reader.onload = function(){
    guardar(reader.result);
  }
  reader.readAsDataURL(file);
}else{
  guardar(null);
}

}

function guardar(fotoBase64){

let perfil = {
  apelido: apelido.value,
  provincia: provincia.value,
  bairro: bairro.value,
  data: data.value,
  funcao: funcao.value,
  foto: fotoBase64
};

localStorage.setItem("perfil", JSON.stringify(perfil));

alert("Perfil salvo!");
}

function seguinte(){
window.location.href="perfil.html";
}

</script>

</body>
</html>
